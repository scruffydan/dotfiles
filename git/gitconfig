[core]
  excludesfile = ~/dotfiles/git/gitignore_global
  attributesfile = ~/dotfiles/git/gitattributes_global

[init]
  defaultBranch = main

[push]
  # Push only the current branch to upstream branch with same name (simple mode)
  default = simple

[pull]
  # Use merge instead of rebase when pulling (preserves commit history)
  rebase = false

[diff]
  # Highlight moved code blocks in diffs with different colors
  colorMoved = default
  tool = codediff
  # Use histogram algorithm for better code diff quality
  algorithm = histogram

[difftool]
  prompt = false

[difftool "codediff"]
  cmd = nvim -c "CodeDiff file \"$LOCAL\" \"$REMOTE\""

[merge]
  tool = codediff
  # Standard merge conflict style with conflict markers
  conflictstyle = merge

[mergetool "codediff"]
  cmd = nvim "$MERGED" -c "CodeDiff merge \"$MERGED\""

[mergetool]
  prompt = false
  # Don't keep .orig backup files after merge
  keepBackup = false

[alias]
  # Pretty log with train tracks - shows graph, commit hash, branches, message, author, and date
  l = log --graph --pretty=format:'%C(yellow)%h%Creset %C(auto)%d%Creset %s %C(green)- %an, %ar%Creset'
  # Same as above but shows all branches
  la = log --graph --pretty=format:'%C(yellow)%h%Creset %C(auto)%d%Creset %s %C(green)- %an, %ar%Creset' --all
  # Short status output
  s = status -s
  # Add all changes (new, modified, and deleted files)
  a = add -A
  g = gc --prune=now --aggressive
